<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>compare-decimals-numberline-jsx</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, sans-serif;
        }
        body.embed {
            padding: 0;
            background: transparent;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
      window.lucideReact = new Proxy({}, {
        get(_, name) {
          const toKebab = s => s.replace(/([A-Z])/g, '-$1').toLowerCase().replace(/^-/, '');
          return ({ size = 24, color, strokeWidth = 2, fill = 'none', className, ...props }) => {
            const ref = React.useRef();
            React.useEffect(() => {
              if (ref.current && lucide[toKebab(name)]) {
                ref.current.innerHTML = '';
                const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                const iconData = lucide[toKebab(name)];
                svg.setAttribute('width', size);
                svg.setAttribute('height', size);
                svg.setAttribute('viewBox', '0 0 24 24');
                svg.setAttribute('fill', fill);
                svg.setAttribute('stroke', color || 'currentColor');
                svg.setAttribute('stroke-width', strokeWidth);
                svg.setAttribute('stroke-linecap', 'round');
                svg.setAttribute('stroke-linejoin', 'round');
                if (className) svg.setAttribute('class', className);
                iconData[2].forEach(el => {
                  const node = document.createElementNS('http://www.w3.org/2000/svg', el[0]);
                  Object.entries(el[1] || {}).forEach(([k,v]) => node.setAttribute(k, v));
                  svg.appendChild(node);
                });
                ref.current.appendChild(svg);
              }
            }, [size, color, strokeWidth, fill, className]);
            return React.createElement('span', { ref, style: { display: 'inline-flex' }, ...props });
          };
        }
      });
    </script>
    <script>
        (function() {
            const embedMode = /[?&]embed=1/i.test(window.location.search);
            if (embedMode) {
                document.body.classList.add('embed');
            }
            
            const { useState, useEffect, useRef } = React;
function roundTo(v, d) {
  const f = Math.pow(10, d);
  return Math.round(v * f) / f;
}
function fmt(n) {
  return parseFloat(n.toFixed(6)).toString();
}
const Q_COMPARE = "compare";
const Q_GREATER = "greater";
const Q_SMALLER = "smaller";
const Q_CLOSER = "closer";
const Q_TYPES = [Q_COMPARE, Q_COMPARE, Q_GREATER, Q_SMALLER, Q_CLOSER];
const generateProblem = () => {
  const qType = Q_TYPES[Math.floor(Math.random() * Q_TYPES.length)];
  const pattern = Math.floor(Math.random() * 3);
  let numA, numB, rangeMin, rangeMax, step, tickCount, decimals;
  if (pattern === 0) {
    const base = Math.floor(Math.random() * 9);
    const startTenth = Math.floor(Math.random() * 5) * 0.5;
    rangeMin = roundTo(base + startTenth, 1);
    rangeMax = roundTo(rangeMin + 1, 1);
    step = 0.1;
    tickCount = 11;
    decimals = 1;
    const posA = Math.floor(Math.random() * 10) + 1;
    let posB = Math.floor(Math.random() * 10) + 1;
    while (posB === posA) posB = Math.floor(Math.random() * 10) + 1;
    numA = roundTo(rangeMin + posA * step, 1);
    numB = roundTo(rangeMin + posB * step, 1);
  } else if (pattern === 1) {
    const whole = Math.floor(Math.random() * 9);
    const tenth = Math.floor(Math.random() * 10) * 0.1;
    rangeMin = roundTo(whole + tenth, 2);
    rangeMax = roundTo(rangeMin + 0.1, 2);
    step = 0.01;
    tickCount = 11;
    decimals = 2;
    const posA = Math.floor(Math.random() * 10) + 1;
    let posB = Math.floor(Math.random() * 10) + 1;
    while (posB === posA) posB = Math.floor(Math.random() * 10) + 1;
    numA = roundTo(rangeMin + posA * step, 2);
    numB = roundTo(rangeMin + posB * step, 2);
  } else {
    const base = Math.floor(Math.random() * 10) * 0.1;
    rangeMin = roundTo(base, 1);
    rangeMax = roundTo(rangeMin + 0.1, 1);
    step = 0.01;
    tickCount = 11;
    decimals = 2;
    const posA = Math.floor(Math.random() * 9) + 1;
    let posB = Math.floor(Math.random() * 9) + 1;
    while (posB === posA) posB = Math.floor(Math.random() * 9) + 1;
    numA = roundTo(rangeMin + posA * step, 2);
    numB = roundTo(rangeMin + posB * step, 2);
  }
  const ticks = [];
  for (let i = 0; i < tickCount; i++) {
    ticks.push(roundTo(rangeMin + i * step, decimals));
  }
  let questionLine, correctAnswer, options, closerTo;
  if (qType === Q_COMPARE) {
    questionLine = `${fmt(numA)} \u0436\u04D9\u043D\u0435 ${fmt(numB)} \u0441\u0430\u043D\u0434\u0430\u0440\u044B\u043D \u0441\u0430\u043B\u044B\u0441\u0442\u044B\u0440\u044B\u04A3\u044B\u0437.`;
    correctAnswer = numA < numB ? "<" : ">";
    options = ["<", ">"];
  } else if (qType === Q_GREATER) {
    questionLine = "\u04AE\u043B\u043A\u0435\u043D \u0441\u0430\u043D\u0434\u044B \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437.";
    correctAnswer = numA > numB ? fmt(numA) : fmt(numB);
    options = [fmt(numA), fmt(numB)];
  } else if (qType === Q_SMALLER) {
    questionLine = "\u041A\u0456\u0448\u0456 \u0441\u0430\u043D\u0434\u044B \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437.";
    correctAnswer = numA < numB ? fmt(numA) : fmt(numB);
    options = [fmt(numA), fmt(numB)];
  } else {
    closerTo = Math.random() < 0.5 ? rangeMin : rangeMax;
    questionLine = `${fmt(closerTo)} \u0441\u0430\u043D\u044B\u043D\u0430 \u0436\u0430\u049B\u044B\u043D \u0441\u0430\u043D\u0434\u044B \u0442\u0430\u04A3\u0434\u0430\u04A3\u044B\u0437.`;
    const dA = Math.abs(numA - closerTo);
    const dB = Math.abs(numB - closerTo);
    correctAnswer = dA < dB ? fmt(numA) : fmt(numB);
    options = [fmt(numA), fmt(numB)];
  }
  return {
    id: Date.now(),
    qType,
    numA,
    numB,
    rangeMin,
    rangeMax,
    step,
    tickCount,
    decimals,
    ticks,
    questionLine,
    correctAnswer,
    options,
    closerTo,
    visualData: {
      type: "numberline",
      numberline: {
        min: rangeMin,
        max: rangeMax,
        divisions: tickCount,
        markedPositions: [numA, numB]
      }
    }
  };
};
const CompareDecimals = () => {
  const [problem, setProblem] = useState(null);
  const [placedA, setPlacedA] = useState(null);
  const [placedB, setPlacedB] = useState(null);
  const [phase, setPhase] = useState("placing");
  const [userAnswer, setUserAnswer] = useState("");
  const [showResult, setShowResult] = useState(false);
  const [isCorrect, setIsCorrect] = useState(false);
  const [shake, setShake] = useState(false);
  const [placementWrong, setPlacementWrong] = useState(false);
  const [removeFlash, setRemoveFlash] = useState(null);
  const containerRef = useRef(null);
  const sendHeight = () => {
    if (window.parent !== window && containerRef.current) {
      window.parent.postMessage(
        { type: "resize", height: containerRef.current.scrollHeight + 20 },
        "*"
      );
    }
  };
  useEffect(() => {
    setProblem(generateProblem());
  }, []);
  useEffect(() => {
    sendHeight();
    setTimeout(sendHeight, 100);
  }, [problem, phase, showResult, placementWrong, placedA, placedB]);
  const handleNext = () => {
    setProblem(generateProblem());
    setPlacedA(null);
    setPlacedB(null);
    setPhase("placing");
    setUserAnswer("");
    setShowResult(false);
    setIsCorrect(false);
    setPlacementWrong(false);
    setRemoveFlash(null);
  };
  const needsA = placedA === null;
  const needsB = placedB === null;
  const bothPlaced = !needsA && !needsB;
  const handleTickClick = (idx) => {
    if (phase !== "placing" || placementWrong || !problem) return;
    if (placedA === idx) {
      setPlacedA(null);
      setRemoveFlash("A");
      setTimeout(() => setRemoveFlash(null), 300);
      return;
    }
    if (placedB === idx) {
      setPlacedB(null);
      setRemoveFlash("B");
      setTimeout(() => setRemoveFlash(null), 300);
      return;
    }
    if (needsA) {
      setPlacedA(idx);
    } else if (needsB) {
      setPlacedB(idx);
    }
  };
  const checkPlacement = () => {
    if (!problem) return;
    const correctA = problem.ticks.findIndex((t) => Math.abs(t - problem.numA) < 1e-9);
    const correctB = problem.ticks.findIndex((t) => Math.abs(t - problem.numB) < 1e-9);
    if (placedA === correctA && placedB === correctB) {
      setPhase("question");
    } else {
      setPlacementWrong(true);
      setShake(true);
      setTimeout(() => setShake(false), 500);
      setTimeout(() => {
        setPlacedA(correctA);
        setPlacedB(correctB);
        setPlacementWrong(false);
        setPhase("question");
      }, 1400);
    }
  };
  const handleSubmit = () => {
    if (!userAnswer || !problem) return;
    const correct = userAnswer === problem.correctAnswer;
    setIsCorrect(correct);
    setShowResult(true);
    setPhase("result");
    window.parent.postMessage(
      {
        type: "exercise-result",
        isCorrect: correct,
        question: problem.questionLine,
        userAnswer,
        correctAnswer: problem.correctAnswer,
        questionData: problem.visualData
      },
      "*"
    );
  };
  if (!problem) return null;
  const C = {
    text: "#292524",
    muted: "#78716c",
    subtle: "#a8a29e",
    border: "#e7e5e4",
    accent: "#6366f1",
    accentDark: "#4f46e5",
    indigo: "#6366f1",
    amber: "#f59e0b",
    green: "#22c55e",
    greenBg: "#f0fdf4",
    greenBdr: "#bbf7d0",
    red: "#ef4444",
    redBg: "#fef2f2",
    redBdr: "#fecaca"
  };
  const isPlacing = phase === "placing";
  const placingLabel = needsA ? "A" : needsB ? "B" : null;
  return /* @__PURE__ */ React.createElement("div", { ref: containerRef, className: "p-4" }, /* @__PURE__ */ React.createElement("style", null, `
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=JetBrains+Mono:wght@500;600;700&display=swap');
        @keyframes popIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes gentlePulse { 0%, 100% { transform: scale(1) rotate(45deg); } 50% { transform: scale(1.08) rotate(45deg); } }
        @keyframes slideIn { from { transform: translateY(-8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes fadeUp { from { transform: translateY(6px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes shakeAnim { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }
        .tick-container:hover .tick-ghost { opacity: 0.35 !important; }
      `), /* @__PURE__ */ React.createElement(
    "div",
    {
      style: {
        maxWidth: 540,
        margin: "0 auto",
        background: "#fff",
        borderRadius: 16,
        boxShadow: "0 4px 20px rgba(0,0,0,0.08)",
        overflow: "hidden",
        fontFamily: "'Nunito', sans-serif"
      }
    },
    /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          padding: "18px 20px",
          background: `linear-gradient(135deg, ${C.accent}, ${C.accentDark})`,
          color: "#fff",
          textAlign: "center"
        }
      },
      /* @__PURE__ */ React.createElement("h2", { style: { margin: 0, fontSize: 17, fontWeight: 800 } }, "\u041E\u043D\u0434\u044B\u049B \u0431\u04E9\u043B\u0448\u0435\u043A\u0442\u0435\u0440\u0434\u0456 \u0441\u0430\u043B\u044B\u0441\u0442\u044B\u0440\u0443")
    ),
    isPlacing && /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          padding: "16px 20px 8px",
          textAlign: "center",
          animation: "slideIn 0.2s ease"
        }
      },
      /* @__PURE__ */ React.createElement("p", { style: { margin: 0, fontSize: 15, fontWeight: 700, color: C.text } }, bothPlaced ? "\u041E\u0440\u043D\u0430\u043B\u0430\u0441\u0442\u044B\u0440\u0443 \u0434\u04B1\u0440\u044B\u0441 \u043F\u0430?" : `\u0421\u0430\u043D \u0442\u04AF\u0437\u0443\u0456\u043D\u0434\u0435 ${placingLabel} \u043D\u04AF\u043A\u0442\u0435\u0441\u0456\u043D \u043E\u0440\u043D\u0430\u043B\u0430\u0441\u0442\u044B\u0440\u044B\u04A3\u044B\u0437:`),
      !bothPlaced && placingLabel && /* @__PURE__ */ React.createElement(
        "div",
        {
          style: {
            marginTop: 8,
            display: "inline-flex",
            alignItems: "center",
            gap: 8,
            padding: "6px 14px",
            background: placingLabel === "A" ? "#ededfc" : "#fef3c7",
            borderRadius: 10,
            border: `1.5px solid ${placingLabel === "A" ? C.indigo : C.amber}`
          }
        },
        /* @__PURE__ */ React.createElement(
          "div",
          {
            style: {
              width: 10,
              height: 10,
              background: placingLabel === "A" ? C.indigo : C.amber,
              borderRadius: 2,
              transform: "rotate(45deg)"
            }
          }
        ),
        /* @__PURE__ */ React.createElement(
          "span",
          {
            style: {
              fontWeight: 700,
              fontSize: 16,
              color: placingLabel === "A" ? C.indigo : C.amber,
              fontFamily: "'JetBrains Mono', monospace"
            }
          },
          placingLabel === "A" ? fmt(problem.numA) : fmt(problem.numB)
        )
      )
    ),
    placementWrong && /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          margin: "0 20px 12px",
          padding: "10px 12px",
          background: C.redBg,
          border: `1px solid ${C.redBdr}`,
          borderRadius: 10,
          fontSize: 13,
          color: C.red,
          fontWeight: 600,
          textAlign: "center",
          animation: shake ? "shakeAnim 0.4s" : "slideIn 0.2s ease"
        }
      },
      "\u274C \u0414\u04B1\u0440\u044B\u0441 \u0435\u043C\u0435\u0441 \u043E\u0440\u044B\u043D. \u0414\u04B1\u0440\u044B\u0441 \u043E\u0440\u044B\u043D\u0434\u044B \u043A\u04E9\u0440\u0441\u0435\u0442\u0435\u043C\u0456\u0437..."
    ),
    /* @__PURE__ */ React.createElement("div", { style: { padding: "12px 20px 0" } }, /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          position: "relative",
          display: "flex",
          justifyContent: "space-between",
          alignItems: "flex-start",
          padding: "0 12px",
          marginBottom: 4
        }
      },
      problem.ticks.map((val, i) => {
        const showLabel = i === 0 || i === problem.tickCount - 1;
        const canPlace = isPlacing && !placementWrong;
        const hasDiamond = placedA === i || placedB === i;
        const canRemove = canPlace && hasDiamond;
        const isA = placedA === i;
        const isB = placedB === i;
        const diamondColor = isA ? C.indigo : isB ? C.amber : null;
        const ghostColor = canPlace && !hasDiamond ? needsA ? C.indigo : C.amber : null;
        const isFlashing = isA && removeFlash === "A" || isB && removeFlash === "B";
        return /* @__PURE__ */ React.createElement(
          "div",
          {
            key: i,
            className: "tick-container",
            onClick: () => handleTickClick(i),
            style: {
              position: "relative",
              display: "flex",
              flexDirection: "column",
              alignItems: "center",
              cursor: canPlace ? "pointer" : "default",
              userSelect: "none"
            }
          },
          hasDiamond && diamondColor && /* @__PURE__ */ React.createElement(
            "div",
            {
              style: {
                position: "absolute",
                top: 12,
                width: 14,
                height: 14,
                background: isFlashing ? "transparent" : diamondColor,
                borderRadius: 3,
                transform: "rotate(45deg)",
                boxShadow: isFlashing ? "none" : `0 2px 10px ${diamondColor}55`,
                animation: canRemove ? "popIn 0.3s ease, gentlePulse 2s ease infinite" : "popIn 0.3s ease"
              }
            }
          ),
          canPlace && !hasDiamond && ghostColor && /* @__PURE__ */ React.createElement(
            "div",
            {
              className: "tick-ghost",
              style: {
                position: "absolute",
                top: 12,
                width: 14,
                height: 14,
                border: `2.5px dashed ${ghostColor}`,
                borderRadius: 3,
                transform: "rotate(45deg)",
                opacity: 0,
                transition: "opacity 0.12s"
              }
            }
          ),
          /* @__PURE__ */ React.createElement(
            "div",
            {
              className: "tick-bar",
              style: {
                width: 2,
                height: showLabel ? 16 : 11,
                background: hasDiamond ? "#78716c" : "#c8c5bf",
                marginTop: showLabel ? 18 : 23,
                borderRadius: 1,
                transition: "background 0.1s"
              }
            }
          ),
          showLabel && /* @__PURE__ */ React.createElement(
            "div",
            {
              style: {
                marginTop: 4,
                fontSize: 11,
                fontWeight: 600,
                color: C.subtle,
                fontFamily: "'JetBrains Mono', monospace",
                whiteSpace: "nowrap"
              }
            },
            val.toFixed(problem.decimals)
          )
        );
      })
    ), /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          display: "flex",
          justifyContent: "center",
          gap: 18,
          marginTop: 6,
          minHeight: 20
        }
      },
      placedA !== null && /* @__PURE__ */ React.createElement(
        "div",
        {
          style: {
            display: "flex",
            alignItems: "center",
            gap: 5,
            animation: "fadeUp 0.2s ease"
          }
        },
        /* @__PURE__ */ React.createElement(
          "div",
          {
            style: {
              width: 9,
              height: 9,
              background: C.indigo,
              borderRadius: 2,
              transform: "rotate(45deg)"
            }
          }
        ),
        /* @__PURE__ */ React.createElement(
          "span",
          {
            style: {
              fontSize: 12,
              fontWeight: 700,
              color: C.indigo,
              fontFamily: "'JetBrains Mono', monospace"
            }
          },
          fmt(problem.numA)
        )
      ),
      placedB !== null && /* @__PURE__ */ React.createElement(
        "div",
        {
          style: {
            display: "flex",
            alignItems: "center",
            gap: 5,
            animation: "fadeUp 0.2s ease"
          }
        },
        /* @__PURE__ */ React.createElement(
          "div",
          {
            style: {
              width: 9,
              height: 9,
              background: C.amber,
              borderRadius: 2,
              transform: "rotate(45deg)"
            }
          }
        ),
        /* @__PURE__ */ React.createElement(
          "span",
          {
            style: {
              fontSize: 12,
              fontWeight: 700,
              color: C.amber,
              fontFamily: "'JetBrains Mono', monospace"
            }
          },
          fmt(problem.numB)
        )
      )
    )),
    isPlacing && bothPlaced && !placementWrong && /* @__PURE__ */ React.createElement("div", { style: { padding: "8px 20px 18px", animation: "slideIn 0.2s ease" } }, /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: checkPlacement,
        style: {
          width: "100%",
          padding: 13,
          borderRadius: 12,
          border: "none",
          background: `linear-gradient(135deg, ${C.accent}, ${C.accentDark})`,
          color: "#fff",
          fontSize: 15,
          fontWeight: 700,
          fontFamily: "'Nunito', sans-serif",
          cursor: "pointer",
          boxShadow: `0 4px 14px ${C.accent}44`
        }
      },
      "\u0422\u0435\u043A\u0441\u0435\u0440\u0443"
    )),
    (phase === "question" || phase === "result") && /* @__PURE__ */ React.createElement("div", { style: { padding: "6px 20px 20px", animation: "slideIn 0.25s ease" } }, /* @__PURE__ */ React.createElement(
      "p",
      {
        style: {
          margin: "0 0 14px",
          fontSize: 15,
          fontWeight: 700,
          color: C.text,
          textAlign: "center"
        }
      },
      problem.questionLine
    ), problem.qType === Q_COMPARE ? /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          gap: 10
        }
      },
      /* @__PURE__ */ React.createElement(
        "span",
        {
          style: {
            fontSize: 18,
            fontWeight: 700,
            color: C.text,
            fontFamily: "'JetBrains Mono', monospace"
          }
        },
        fmt(problem.numA)
      ),
      problem.options.map((opt) => {
        const sel = userAnswer === opt;
        const right = showResult && opt === problem.correctAnswer;
        const wrong = showResult && sel && opt !== problem.correctAnswer;
        return /* @__PURE__ */ React.createElement(
          "button",
          {
            key: opt,
            onClick: () => !showResult && setUserAnswer(opt),
            disabled: showResult,
            style: {
              width: 52,
              height: 48,
              borderRadius: 10,
              border: `2.5px solid ${right ? C.green : wrong ? C.red : sel ? C.accent : C.border}`,
              background: right ? C.greenBg : wrong ? C.redBg : sel ? "#ededfc" : "#fff",
              fontSize: 22,
              fontWeight: 700,
              fontFamily: "'JetBrains Mono', monospace",
              color: right ? C.green : wrong ? C.red : sel ? C.accent : C.muted,
              cursor: showResult ? "default" : "pointer",
              transition: "all 0.12s"
            }
          },
          opt
        );
      }),
      /* @__PURE__ */ React.createElement(
        "span",
        {
          style: {
            fontSize: 18,
            fontWeight: 700,
            color: C.text,
            fontFamily: "'JetBrains Mono', monospace"
          }
        },
        fmt(problem.numB)
      )
    ) : /* @__PURE__ */ React.createElement("div", { style: { display: "flex", justifyContent: "center", gap: 10 } }, problem.options.map((opt) => {
      const sel = userAnswer === opt;
      const right = showResult && opt === problem.correctAnswer;
      const wrong = showResult && sel && opt !== problem.correctAnswer;
      return /* @__PURE__ */ React.createElement(
        "button",
        {
          key: opt,
          onClick: () => !showResult && setUserAnswer(opt),
          disabled: showResult,
          style: {
            minWidth: 80,
            padding: "11px 24px",
            borderRadius: 10,
            border: `2.5px solid ${right ? C.green : wrong ? C.red : sel ? C.accent : C.border}`,
            background: right ? C.greenBg : wrong ? C.redBg : sel ? "#ededfc" : "#fff",
            fontSize: 17,
            fontWeight: 700,
            fontFamily: "'JetBrains Mono', monospace",
            color: right ? C.green : wrong ? C.red : sel ? C.accent : C.text,
            cursor: showResult ? "default" : "pointer",
            transition: "all 0.12s"
          }
        },
        opt
      );
    })), /* @__PURE__ */ React.createElement("div", { style: { marginTop: 16 } }, !showResult ? /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: handleSubmit,
        disabled: !userAnswer,
        style: {
          width: "100%",
          padding: 13,
          borderRadius: 12,
          border: "none",
          background: userAnswer ? `linear-gradient(135deg, ${C.accent}, ${C.accentDark})` : "#e7e5e4",
          color: userAnswer ? "#fff" : "#a8a29e",
          fontSize: 15,
          fontWeight: 700,
          fontFamily: "'Nunito', sans-serif",
          cursor: userAnswer ? "pointer" : "default",
          boxShadow: userAnswer ? `0 4px 14px ${C.accent}44` : "none",
          transition: "all 0.2s"
        }
      },
      "\u0422\u0435\u043A\u0441\u0435\u0440\u0443"
    ) : /* @__PURE__ */ React.createElement("div", { style: { animation: "slideIn 0.25s ease" } }, /* @__PURE__ */ React.createElement(
      "div",
      {
        style: {
          display: "flex",
          alignItems: "center",
          gap: 10,
          padding: "11px 14px",
          borderRadius: 12,
          marginBottom: 12,
          background: isCorrect ? C.greenBg : C.redBg,
          border: `1px solid ${isCorrect ? C.greenBdr : C.redBdr}`
        }
      },
      /* @__PURE__ */ React.createElement("span", { style: { fontSize: 20 } }, isCorrect ? "\u2705" : "\u274C"),
      /* @__PURE__ */ React.createElement("div", null, /* @__PURE__ */ React.createElement(
        "div",
        {
          style: {
            fontWeight: 700,
            fontSize: 14,
            color: isCorrect ? C.green : C.red
          }
        },
        isCorrect ? "\u0414\u04B1\u0440\u044B\u0441!" : "\u049A\u0430\u0442\u0435!"
      ), !isCorrect && /* @__PURE__ */ React.createElement("div", { style: { fontSize: 13, color: C.muted, marginTop: 2 } }, "\u0414\u04B1\u0440\u044B\u0441 \u0436\u0430\u0443\u0430\u043F:", " ", /* @__PURE__ */ React.createElement("strong", { style: { color: C.text } }, problem.qType === Q_COMPARE ? `${fmt(problem.numA)} ${problem.correctAnswer} ${fmt(problem.numB)}` : problem.correctAnswer)))
    ), /* @__PURE__ */ React.createElement(
      "button",
      {
        onClick: handleNext,
        style: {
          width: "100%",
          padding: 13,
          borderRadius: 12,
          border: "none",
          background: `linear-gradient(135deg, ${C.accent}, ${C.accentDark})`,
          color: "#fff",
          fontSize: 15,
          fontWeight: 700,
          fontFamily: "'Nunito', sans-serif",
          cursor: "pointer",
          boxShadow: `0 4px 14px ${C.accent}44`
        }
      },
      "\u041A\u0435\u043B\u0435\u0441\u0456 \u0441\u04B1\u0440\u0430\u049B \u2192"
    )))),
    isPlacing && !bothPlaced && /* @__PURE__ */ React.createElement("div", { style: { height: 14 } })
  ));
};

            
            // Рендерим компонент
            ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(CompareDecimals));
            
            // Отправляем INIT сообщение
            if (embedMode && window.parent) {
                window.parent.postMessage({ type: 'INIT', status: 'ready' }, '*');
            }
        })();
    </script>
</body>
</html>